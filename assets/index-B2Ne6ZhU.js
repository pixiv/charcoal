import{r as e,$ as B,v,j as t}from"./iframe-NqksIJAp.js";import{c as D,u as G,F as J,m as K,A as L}from"./useFocusWithClick-C-6g9M6r.js";import{u as M}from"./useClassNames-vAgdujRd.js";const _=e.forwardRef(function({onChange:d,className:I,value:s,showCount:f=!1,showLabel:R=!1,label:C="",requiredText:E,subLabel:F,disabled:m=!1,required:k,assistiveText:p,maxLength:a,autoHeight:o=!1,rows:u=4,invalid:b,getCount:l=D,...q},S){const{visuallyHiddenProps:P}=B(),r=e.useRef(null),[h,V]=e.useState(l(s??"")),[x,H]=e.useState(u),c=e.useCallback(y=>{var i;const n=(((i=`${y.value}
`.match(/\n/gu))==null?void 0:i.length)??0)||1;H(u<=n?n:u)},[u]),$=s===void 0,W=e.useCallback(y=>{const n=y.target.value,i=l(n);a!==void 0&&i>a||($&&V(i),o&&r.current!==null&&c(r.current),d==null||d(n))},[o,l,a,$,d,c]);e.useEffect(()=>{V(l(s??""))},[l,s]),e.useEffect(()=>{o&&r.current!==null&&c(r.current)},[o,c]);const g=e.useRef(null);G(g,r);const N=v(q.id),T=v(),j=v(),z=M("charcoal-text-area-root",I),A=p!=null&&p.length!==0;return t.jsxs("div",{className:z,"aria-disabled":m,children:[t.jsx(J,{htmlFor:N,id:j,label:C,required:k,requiredText:E,subLabel:F,...R?{}:P}),t.jsxs("div",{className:"charcoal-text-area-container","aria-disabled":m===!0?"true":void 0,"aria-invalid":b===!0,ref:g,style:{"--charcoal-text-area-rows":`${f?x+1:x}`},children:[t.jsx("textarea",{className:"charcoal-text-area-textarea","aria-describedby":A?T:void 0,"aria-invalid":b,"aria-labelledby":j,id:N,maxLength:a,"data-no-bottom-padding":f,onChange:W,ref:K(S,r),rows:x,value:s,disabled:m,...q}),f&&t.jsx("span",{className:"charcoal-text-area-counter",children:a!==void 0?`${h}/${a}`:h})]}),A&&t.jsx(L,{"data-invalid":b===!0,id:T,children:p})]})});try{_.displayName="TextArea",_.__docgenInfo={description:"",displayName:"TextArea",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | (string & readonly string[])"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},showCount:{defaultValue:{value:"false"},description:"",name:"showCount",required:!1,type:{name:"boolean"}},showLabel:{defaultValue:{value:"false"},description:"",name:"showLabel",required:!1,type:{name:"boolean"}},assistiveText:{defaultValue:null,description:"",name:"assistiveText",required:!1,type:{name:"string"}},invalid:{defaultValue:null,description:"",name:"invalid",required:!1,type:{name:"boolean"}},label:{defaultValue:{value:""},description:"",name:"label",required:!1,type:{name:"string"}},requiredText:{defaultValue:null,description:"",name:"requiredText",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},subLabel:{defaultValue:null,description:"",name:"subLabel",required:!1,type:{name:"ReactNode"}},autoHeight:{defaultValue:{value:"false"},description:"",name:"autoHeight",required:!1,type:{name:"boolean"}},getCount:{defaultValue:null,description:"",name:"getCount",required:!1,type:{name:"((value: string) => number)"}}}}}catch{}export{_ as T};
