import{r as l,$ as H,v as u,j as e,x as L}from"./iframe-NqksIJAp.js";import{c as W,u as z,F as B,A as D}from"./useFocusWithClick-C-6g9M6r.js";import{u as G}from"./useClassNames-vAgdujRd.js";const j=l.forwardRef(function({assistiveText:n,className:T,disabled:d=!1,label:F="",maxLength:a,onChange:s,prefix:o=null,required:_,requiredText:g,showCount:c=!1,showLabel:I=!1,subLabel:w,suffix:f=null,type:P="text",invalid:t,value:r,getCount:i=W,...p},A){const m=l.useRef(null),{visuallyHiddenProps:C}=H(),[x,b]=l.useState(i(r??"")),E=l.useCallback(k=>{const N=k.target.value,$=i(N);a!==void 0&&$>a||(b($),s==null||s(N))},[i,a,s]);l.useEffect(()=>{b(i(r??""))},[i,r]);const v=l.useRef(null);z(v,m);const y=u(p.id),q=u(),h=u(),V=n!=null&&n.length!==0,S=G("charcoal-text-field-root",T);return e.jsxs("div",{className:S,"aria-disabled":d,children:[e.jsx(B,{htmlFor:y,id:h,label:F,required:_,requiredText:g,subLabel:w,...I?{}:C}),e.jsxs("div",{className:"charcoal-text-field-container","aria-disabled":d===!0?!0:void 0,"data-invalid":t===!0,ref:v,children:[o&&e.jsx("div",{className:"charcoal-text-field-prefix",children:o}),e.jsx("input",{className:"charcoal-text-field-input","aria-describedby":V?q:void 0,"aria-invalid":t,"aria-labelledby":h,id:y,"data-invalid":t===!0,maxLength:a,onChange:E,disabled:d,ref:L(A,m),type:P,value:r,...p}),(f||c)&&e.jsxs("div",{className:"charcoal-text-field-suffix",children:[f,c&&e.jsx("span",{className:"charcoal-text-field-line-counter",children:a!==void 0?`${x}/${a}`:x})]})]}),V&&e.jsx(D,{"data-invalid":t===!0,id:q,children:n})]})});try{j.displayName="TextField",j.__docgenInfo={description:"",displayName:"TextField",props:{prefix:{defaultValue:{value:"null"},description:"",name:"prefix",required:!1,type:{name:"ReactNode"}},suffix:{defaultValue:{value:"null"},description:"",name:"suffix",required:!1,type:{name:"ReactNode"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | (string & readonly string[])"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},showCount:{defaultValue:{value:"false"},description:"",name:"showCount",required:!1,type:{name:"boolean"}},showLabel:{defaultValue:{value:"false"},description:"",name:"showLabel",required:!1,type:{name:"boolean"}},assistiveText:{defaultValue:null,description:"",name:"assistiveText",required:!1,type:{name:"string"}},invalid:{defaultValue:null,description:"",name:"invalid",required:!1,type:{name:"boolean"}},label:{defaultValue:{value:""},description:"",name:"label",required:!1,type:{name:"string"}},requiredText:{defaultValue:null,description:"",name:"requiredText",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},subLabel:{defaultValue:null,description:"",name:"subLabel",required:!1,type:{name:"ReactNode"}},rdfaPrefix:{defaultValue:null,description:"",name:"rdfaPrefix",required:!1,type:{name:"string"}},getCount:{defaultValue:null,description:"",name:"getCount",required:!1,type:{name:"((value: string) => number)"}}}}}catch{}export{j as T};
